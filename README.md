# OneLuaPro

This is the head repository of [OneLuaPro](https://github.com/OneLuaPro). For more information on the **OneLuaPro** distribution visit https://github.com/OneLuaPro.

## Change Log

```txt
OneLuaPro Release 5.4.8.3 (Feb 11, 2026)
----------------------------------------
- Built with Visual Studio Build Tools 2022 17.14.26
- Built with NI-488.2 2025 Q4 and NI-DAQmx 2025 Q4 Patch 1
- Introducing "DistroCheck" tool for checking OneLuaPro integrity
- Introducing "OneLuaPro Help Center" as central documentation hub
- Replaced all *.bat-files in bin/ with executables
- lunit              Added with v0.8.1-1-g61e9b3a
- argparse           Updated to v0.7.1-14-g395f616
- busted             Updated to v2.3.0-5-g4bbf32a
- distro             Updated to v2.0.0
- ldoc               Updated to v1.5.0-14-gc5e6601
- librs232           Updated to v1.0.3-118-g1171731
- libusb             Updated to v1.0.29-60-gf385e44f
- libuv              Updated to v1.52.0
- LPeg               Updated to v1.1.0-4-g4190cdb
- lsleep             Updated to v1.05-5-g9e4bdf2
- lsqlite3           Added with v0.9.6-0
- lua                Updated to v5.4.8-1-gfdac66f
- luacheck           Updated to v1.2.0-35-g7580037
- lua-cjson          Updated to v2.1.0.16-13-g5a84afa
- lua-ffi            Updated to v1.1.0-22-gb95c731
- lua-openssl        Updated to v0.11.0-3-9-gad322f2
- luasec             Updated to v1.3.2-4-g3219920
- luasystem          Updated to v0.6.3-8-gfd8c2b3
- luautf8            Updated to v0.2.0-6-gb891069
- Penlight           Updated to v1.15.0-15-gda98756
- Savitzky-Golay-Filter Updated to v2.0-14-gb9af1a1
- luaSFG             Updated to v2.0.0
- sqlean             Added with 0.28.1-9-gd134592
- SQLite             Added with v3.51.2
- zlib-ng            Updated to v2.3.3

OneLuaPro Release 5.4.8.2 (Jan 19, 2026)
----------------------------------------
- Built with Visual Studio Build Tools 2022 17.14.24
- Built with NI-488.2 2025 Q4 and NI-DAQmx 2025 Q4 Patch 1
- crc32c             Added with v1.1.2 with commits until Apr 8, 2025
- luacrc32c          Added with v1.0
- zlib-ng            Added with v2.3.2
- lua-zlib           Added with v1.4
- lua-cjson          Added with v2.1.0.16 with commit until Jan 19, 2026
- LibreSSL           Added with v4.2.1
- luasec             Added with v1.3.2 with commits until Jul 10, 2025
- lua-openssl        Added with v0.11.0-2 with commits until Jan 17, 2026
- LDoc               Added with v1.5.0 with commits until Jul 22, 2024
- luasystem          Added with v0.6.3 with commits until Jan 17, 2026
- lua_cliargs        Added with v3.0.2 with commits until Dec 18, 2023
- dkjson             Added with v2.8
- say                Added with v1.4.1 with commits until Aug 13, 2023
- luassert           Added with v1.9.0 with commits until Nov 7, 2024
- mediator_lua       Added with v1.1.2 with commits until Feb 24, 2020
- lua-term           Added with v0.8 with commits until Jul 2, 2024
- lua-utf8           Added with v0.2.0 with commits until Nov 15, 2025
- inifile            Added with v1.1
- busted             Added with v2.3.0
- LuaSocket          Updated to v3.1.0 with commits until Nov 14, 2025
- LuaFileSystem      Updated to v1.9.0
- Luacheck           Updated to v1.2.0 with commits until Aug 1, 2025
- libffi             Updated to v3.5.2 with commits until Dec 26, 2025
- lua-ffi            Updated to v1.1.0 with commits until Nov 9, 2025
- libusb             Updated to v1.0.29 with commits until Jan 5, 2026
- luv                Updated to v1.51.0-2 with commits until Jan 19, 2026
- lanes              Updated to v4.0.0 with commits until Dec 1, 2025
- wxWidgets          Updated to v3.2.9
- Penlight           Updated to v1.15.0 with commits until Jan 19, 2026
- S.-G.-Filter       Updated to v2.0 with commits until Nov 12, 2025
- lua4882            Updated to v1.2.2
- luaping            Updated to v1.1.1

OneLuaPro Release 5.4.8.1  (Jul 27, 2025)
-----------------------------------------
- Built with Visual Studio Build Tools 2022 17.14.9
- Built with NI-488.2 2024 Q3 and NI-DAQmx 2024 Q3
- Luacheck           Updated to v1.2.0 with commits until Jul 18, 2025
- libffi             Updated to v3.5.1 with commits until Jul 11, 2025
- libusb             Updated to v1.0.29 with commits until Jun 9, 2025
- libuv              Updated to v1.51.0
- luv                Updated to v1.51.0-1 with commits until Jul 25, 2025
- lanes              Updated to v4.0.0 with commits until Jul 25, 2025
- luaping            Updated to v1.1 with commits until Jul 27, 2025
- Penlight           Updated v1.14.0 with comments until Jun 13, 2025
- wxWidgets          Updated to v3.2.9

OneLuaPro Release 5.4.8.0  (Jun 8, 2025)
----------------------------------------
- Built with Visual Studio Build Tools 2022 17.14.4
- Built with NI-488.2 2024 Q3 and NI-DAQmx 2024 Q3
- lua                Updated to v5.4.8
- LuaSocket          Updated to 3.1.0 with commits until May 30, 2025
- libffi             Updated to v3.5.0 with commits until Jun 06, 2025
- libusb             Updated to v1.0.29
- libuv              Updated to v1.51.0
- luv                Updated to v1.51.0-1 with commits until May 17, 2025
- lanes              Updated to v4.0.0 with commits until Jun 05, 2025
- wxWidgets          Updated to v3.2.8.1
- Penlight           Added with v1.14.0 with commits until May 19, 2025
- luaSGF             Added with v1.0

OneLuaPro Release 5.4.7.5  (Apr 17, 2025)
-----------------------------------------
- Built with Visual Studio Build Tools 2022 17.13.6
- Built with NI-488.2 2024 Q3 and NI-DAQmx 2024 Q3
- lcomplex           Added with v1.0
- LuaSocket          Updated to 3.1.0 with commits until Mar 31, 2025
- LuaSocket          Added TCP client:receive('*r') extension
- LuaFileSystem      Updated to 1.8.0 with commits until Oct 28, 2024
- Luacheck           Updated to v1.2.0 with commits until Dec 5, 2024
- libffi             Updated to v3.4.8 with commits until Apr 15, 2025
- lua-ffi            Updated to v1.1.0
- libusb             Updated to v1.0.28
- libuv              Updated to v1.50.0
- luv                Updated to v1.50.0-1 with commits until Apr 17, 2025
- lanes              Updated to v4.0.0 with commits until Apr 15, 2025
- Penlight           Added with v1.14.0 with commits until Nov 7, 2024
- wxWidgets          Updated to v3.2.7

OneLuaPro Release 5.4.7.4  (Oct 14, 2024)
-----------------------------------------
- lua4882            Updated to v1.2.1

OneLuaPro Release 5.4.7.3  (Oct 13, 2024)
-----------------------------------------
- Built with Visual Studio Build Tools 2022 17.11.5
- Built with NI-488.2 2024 Q3 and NI-DAQmx 2024 Q3
- libuv              Updated to v1.49.1
- luv                Updated to v1.48.0-2 with commits until Oct 11, 2024
- lanes              Updated to v4.0.0 with commits until Oct 9, 2024
- luaping            Updated to v1.1
- lua4882            Updated to v1.2
- luadaqmx           Updated to v0.1 with commits until Oct 13, 2024

OneLuaPro Release 5.4.7.2  (Oct 5, 2024)
----------------------------------------
- New unified install media for Windows-x64 7 to 11 (signed installer
  and ZIP-archive)
- Luacheck           Updated to v1.2.0 with commits until Aug 29, 2024
- libffi             Updated to v3.4.6 with commits until Jun 28, 2024
- lua-ffi            Added with v1.0.0 with commits until Aug 18, 2024
- libuv              Updated to v1.49.0
- lanes              Updated to v4.0.0 with commits until Oct 1, 2024
- wxWidgets          Added with v3.2.6
- wxLua              Added with v3.2.0.2 with commits until Sep 4, 2023
- ZeroBraneStudio    Added with v2.01 with commits until May 20, 2024

OneLuaPro Release 5.4.7.1  (Aug 29, 2024)
-----------------------------------------
- LPeg               Added with 1.1.0
- Windows 10 binaries built with Visual Studio Build Tools 2022 17.11.2
- Windows 7 binaries built with Visual Studio Build Tools 2022 17.5.5

OneLuaPro Release 5.4.7.0  (Aug 25, 2024)
-----------------------------------------
- Windows 10 binaries built with Visual Studio Build Tools 2022 17.11.0
- Windows 7 binaries built with Visual Studio Build Tools 2022 17.5.5
- lua                Updated to 5.4.7
- luadaqmx           Added with 0.1
- lua4882            Added with 1.0
- Windows 10 binaries use NI-488.2 2024 Q3 and NI-DAQmx 2024 Q3
- Windows 7 binaries use NI-488.2 19.0 and NI-DAQmx 19.0
- OneLuaPro Win32 binaries are no longer provided.

OneLuaPro Release 5.4.6.6  (Jun 8, 2024)
----------------------------------------
- luaping            Added with 1.0

OneLuaPro Release 5.4.6.5  (May 12, 2024)
-----------------------------------------
- Binaries built with Visual Studio Build Tools 2022 17.9.6
- LuaSocket          Updated to 3.1.0 with commits until Oct 27, 2023
- librs232           Updated to 1.0.3 with commits until Oct 12, 2023
- LuaFileSystem      Updated to 1.8.0 with commits until Dec 13, 2023
- Luacheck           Updated to 1.1.2
- libffi             Updated to 3.4.6 with commits until Mar 19, 2024
- libusb             Updated to 1.0.27
- MoonUSB            Updated to 0.1 with commits until Jul 25, 2023
- libuv              Updated to 1.48.0
- luv                Updated to 1.48.0-2 with commits until Mar 2, 2024
- lanes              Added with 3.17.0 with commits until May 7, 2024

OneLuaPro Release 5.4.6.4 (Jul 8, 2023)
---------------------------------------
- moonusb            Fixed remote repository issue
- luv                Updated to 1.46.0
- libusb             Updated to 1.0.26 with commits until Jul 7, 2023

OneLuaPro Release 5.4.6.3 (Jul 2, 2023)
---------------------------------------
- libuv              Added
- luv                Added

OneLuaPro Release 5.4.6.2 (Jul 1, 2023)
---------------------------------------
- libffi, lubusb     Small fixes by merging remote-tracking branches

OneLuaPro Release 5.4.6.1 (Jun 17, 2023)
----------------------------------------
- luacheck           Updated to v1.1.1
- libffi             Added
- libusb             Added
- moonusb            Added

OneLuaPro Release 5.4.6.0 (May 27, 2023)
----------------------------------------
- Initial release
```

## Building and Installing OneLuaPro from Source Code

A complete Microsoft Visual Studio Installation is optional but not strictly necessary. Simply install **Buildtools for Visual Studio 2022, Version 17.11.5** from https://visualstudio.microsoft.com/de/downloads/#build-tools-for-visual-studio-2022 and select  the following suggested components for download and installation:

- MSVC v143 - VS 2022 C++-x64/x86-Buildtools
- C++-CMake-Tools for Windows (Version 3.28.0-msvc1)
- Windows 11-SDK (10.0.22621.0) 

In addition install the following prerequisites:

- pandoc (https://github.com/jgm/pandoc/releases)
- doxygen (https://www.doxygen.nl/download.html)
- National Instruments [NI-488.2](https://www.ni.com/en/support/downloads/drivers/download.ni-488-2.html) 2024 Q3 (Support for C/C++, with all dependencies)
- National Instruments [NI-DAQmx](https://www.ni.com/en/support/downloads/drivers/download.ni-daq-mx.html) 2024 Q3 (Support for C/C++, with all dependencies)

Open `Developer Command Prompt for VS 2022` and change drive and directory. Download and unpack sources or simply clone this repository:

```cmd
c:
cd c:\Temp
git clone https://github.com/OneLuaPro/OneLuaPro.git
cd OneLuaPro
```

CMake strongly encourages out-of-source builds. **OneLuaPro** is an CMake Multiple External Projects build for automatic download, update/patch, configure, build and install.

```cmd
mkdir build64 && cd build64
cmake .. -G "Visual Studio 17 2022" -A x64
cmake --build . --config Release > 00_log.txt
```

Building takes some time, all terminal output is redirected into file `00_log.txt` for later inspection. A successful build is indicated by an `errorlevel` return value of `0` of the last `cmake` command.

```cmd
[C:\...\John Doe]> echo %errorlevel%
0
```

The (unsigned) installer and the zip-archive are created with the following commands. Results are placed into the current build directory.

```cmd
cpack -G NSIS64
cpack -G ZIP
```

The installer offers the choice to update the `PATH`-variable according to the chosen installation directory. For a manual installation using the ZIP-archive the `PATH` environment variable has to be extended by the user in order to make `lua` callable from any Windows command prompt. For the current Windows user and without administrative privileges permanently extend the <u>user-specific</u> part of the `PATH` variable by executing the following [two commands](https://stackoverflow.com/questions/19287379/) in the given order:

```cmd
for /f "usebackq tokens=2,*" %A in (`reg query HKCU\Environment /v PATH`) do set my_user_path=%B

setx PATH "%my_user_path%;c:\Apps\OneLuaPro-<VERSION>-Win-x64\bin"
```

Open a new Windows command prompt and verify if Lua is available:

```cmd
C:\Users\John Doe>lua -v
Lua 5.4.8  Copyright (C) 1994-2025 Lua.org, PUC-Rio

C:\Users\John Doe>
```

## License

See `https://github.com/OneLuaPro/OneLuaPro/blob/main/LICENSE.txt`.
